<svg version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="918" height="1207"><desc>%0Atitle%20Viewership%20Protocol%0A%0Aparticipant%20Viewer_0%0Aparticipant%20...%0Aparticipant%20Viewer_N%0Aparticipant%20Newschain%20Contract%0Aparticipant%20Blockchain%20Logs%0A%0A%0A%3D%3D%20block.number%20**i**%3D%3D%0Anote%20over%20Newschain%20Contract%2CBlockchain%20Logs%3A**event%20published_article**(article_id%2Clocation_hash%2Ctitle%5Cn%2Cimg%2Carticle%2Cmsg.sender%2Cchallenge)%0A%0A%3D%3Dblock.number%20**j**%3D%3D%0A%20%20%0AViewer_0-%3ENewschain%20Contract%3A%20view_pow(article_id%2C%20pow_hash)%0A%0Anote%20over%20Newschain%20Contract%3Arequire(%20j%20%3C%20i%20%2B%203600)%5Cnrequire(keccak(pow_hash%2C%20challenge)%20%3D%3D%200x000000...)%0A%0ANewschain%20Contract-%3EBlockchain%20Logs%3Aemit%20viewer_event%0Anote%20over%20Newschain%20Contract%2CBlockchain%20Logs%3A**event%20viewer_event**(article_id%2Clocation%2C%20location_hash%5Cn%2Cchallenge%2Cdifficulty_level%2Crestart)%5Cn%5Cndifficulty_level%20%3D%200%20%20(%2F%2Finitial%20difficulty%2F%2F)%5Cnrestart%20%3D%20false%0A%0AViewer_0%3C-Newschain%20Contract%3A%2F%2Freturn%2F%2F%20challenge%0A%3D%3Dblock.number%20**h**%3D%3D%0AViewer_N-%3ENewschain%20Contract%3Aview_pow(article_id%2C%20pow_hash)%0A%0Anote%20over%20Newschain%20Contract%3Arequire(%20h%20%3C%20i%20%2B%203600)%5Cnrequire(keccak(pow_hash%2C%20challenge)%20%3D%3D%200x%20%2B'0'%20*%20difficulty_level...)%5Cn%5Cn**if**%20(%20h%20%3C%20j%20%2B%202)%3A%20%5Cn%20%20%20%20new_difficulty_level%20%3D%20difficulty_level%20%2B%201%5Cn%20%20%20%20new_challenge%20%3D%20keccak(challenge%2Cblock.number%2Cblock.coinbase)%20%5Cn%20%20%20%20new_restart%20%3D%20true%5Cn%5Cn**else%20if**%20(h%20%3E%20j%20%2B%2040%20%26%26%20difficulty_level%20%3E0)%3A%20%5Cn%20%20%20%20new_difficulty_level%20%3D%20difficulty_level%20-%201%5Cn%20%20%20%20new_challenge%20%3D%20keccak(challenge%2Cblock.number%2Cblock.coinbase)%5Cn%20%20%20%20new_restart%20%3D%20true%5Cn%5Cn**%20else%20**%3A%5Cn%20%20%20%20new_difficulty_level%20%3D%20difficulty_level%5Cn%20%20%20%20new_challenge%20%3D%20challenge%5Cn%20%20%20%20new_restart%20%3D%20false%0ANewschain%20Contract-%3EBlockchain%20Logs%3Aemit%20viewer_event%0Anote%20over%20Newschain%20Contract%2CBlockchain%20Logs%3A**event%20viewer_event**(article_id%2Clocation%2C%20location_hash%5Cn%2Cnew_challenge%2Cnew_difficulty_level%2Cnew_restart)%0AViewer_N%3C-Newschain%20Contract%3A%2F%2Freturn%2F%2F%20challenge</desc><defs/><g><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g/><g><rect fill="white" stroke="none" x="0" y="0" width="918" height="1207"/></g><g><text fill="black" stroke="none" font-family="sans-serif" font-size="16.5pt" font-style="normal" font-weight="normal" text-decoration="normal" x="362.45732446886126" y="22.6179738" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Viewership Protocol</text></g><g/><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.317787949285155 88.511670804 L 54.317787949285155 1207.347441444" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 138.64319844258202 88.511670804 L 138.64319844258202 1207.347441444" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 224.185192187832 88.511670804 L 224.185192187832 1207.347441444" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.45495647837885 88.511670804 L 475.45495647837885 1207.347441444" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 841.6753140524022 88.511670804 L 841.6753140524022 1207.347441444" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray="11.598960923076923,5.0262164"/></g><g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 47.799317964000004 L 101.09625129857031 47.799317964000004 L 101.09625129857031 88.511670804 L 7.5393246000000005 88.511670804 L 7.5393246000000005 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="23.899658982" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Viewer_0</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 116.1749004985703 47.799317964000004 L 161.11149638659373 47.799317964000004 L 161.11149638659373 88.511670804 L 116.1749004985703 88.511670804 L 116.1749004985703 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="132.5352348805703" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">...</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 176.19014558659373 47.799317964000004 L 272.1802387890703 47.799317964000004 L 272.1802387890703 88.511670804 L 176.19014558659373 88.511670804 L 176.19014558659373 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="192.55047996859372" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Viewer_N</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 393.5207848161054 47.799317964000004 L 557.3891281406522 47.799317964000004 L 557.3891281406522 88.511670804 L 393.5207848161054 88.511670804 L 393.5207848161054 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="409.8811191981054" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Newschain Contract</text></g><path fill="none" stroke="none"/><g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 771.9499131420819 47.799317964000004 L 911.4007149627225 47.799317964000004 L 911.4007149627225 88.511670804 L 771.9499131420819 88.511670804 L 771.9499131420819 47.799317964000004 Z" stroke-miterlimit="10" stroke-width="2.4125838720000004" stroke-dasharray=""/></g><g><g/><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="788.3102475240819" y="73.43302160400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">Blockchain Logs</text></g></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 130.98319938400002 L 910.4606754 130.98319938400002 M 7.5393246000000005 136.00941578400003 L 910.4606754 136.00941578400003 M 7.5393246000000005 141.03563218400004 L 910.4606754 141.03563218400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 387.79170844177736 118.668969204 L 530.2082915582226 118.668969204 L 530.2082915582226 153.34986236400002 L 387.79170844177736 153.34986236400002 Z" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="408.90181732177734" y="139.77907808400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> block.number </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="505.02620697021484" y="139.77907808400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">i</text></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 461.88417219837885 175.967836164 L 841.6753140524022 175.967836164 L 855.2460983324022 189.538620444 L 855.2460983324022 225.72737852400002 L 461.88417219837885 225.72737852400002 L 461.88417219837885 175.967836164 M 841.6753140524022 175.967836164 L 841.6753140524022 189.538620444 L 855.2460983324022 189.538620444" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="484.64740302662096" y="197.07794504400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">event published_article</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="647.5479004631444" y="197.07794504400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(article_id,location_hash,title</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="484.64740302662096" y="212.15659424400002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">,img,article,msg.sender,challenge)</text></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 260.659582504 L 910.4606754 260.659582504 M 7.5393246000000005 265.685798904 L 910.4606754 265.685798904 M 7.5393246000000005 270.71201530400003 L 910.4606754 270.71201530400003" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 389.82769629578127 248.345352324 L 528.1723037042187 248.345352324 L 528.1723037042187 283.026245484 L 389.82769629578127 283.026245484 Z" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="410.93780517578125" y="269.455461204" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">block.number </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="502.99021911621094" y="269.455461204" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">j</text></g><g><g><rect fill="white" stroke="none" x="158.75699060531636" y="305.64421928400003" width="212.25876321703126" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="161.01878798531635" y="319.2150035640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">view_pow(article_id, pow_hash)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 54.317787949285155 325.24646324400004 L 463.04020197037886 325.24646324400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(475.45495647837885,325.24646324400004) translate(-475.45495647837885,-325.24646324400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 462.88941547837885 318.963692744 L 475.45495647837885 325.24646324400004 L 462.88941547837885 331.52923374400007 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 279.1783284333398 347.864437044 L 658.160800243418 347.864437044 L 671.731584523418 361.435221324 L 671.731584523418 397.623979404 L 279.1783284333398 397.623979404 L 279.1783284333398 347.864437044 M 658.160800243418 347.864437044 L 658.160800243418 361.435221324 L 671.731584523418 361.435221324" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="300.2884373133398" y="368.97454592400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">require( j &lt; i + 3600)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="300.2884373133398" y="384.053195124" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">require(keccak(pow_hash, challenge) == 0x000000...)</text></g><g><g><rect fill="white" stroke="none" x="597.2453773751366" y="420.241953204" width="122.63951578050781" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="599.5071747551366" y="433.8127374840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">emit viewer_event</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.45495647837885 439.84419716400004 L 829.2605595444022 439.84419716400004" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(841.6753140524022,439.84419716400004) translate(-841.6753140524022,-439.84419716400004)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 829.1097730524021 433.561426664 L 841.6753140524022 439.84419716400004 L 829.1097730524021 446.12696766400006 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 461.88417219837885 462.46217096400005 L 841.6753140524022 462.46217096400005 L 855.2460983324022 476.03295524400005 L 855.2460983324022 557.457660924 L 461.88417219837885 557.457660924 L 461.88417219837885 462.46217096400005 M 841.6753140524022 462.46217096400005 L 841.6753140524022 476.03295524400005 L 855.2460983324022 476.03295524400005" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="482.9942810783788" y="483.57227984400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">event viewer_event</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="617.4195740471288" y="483.57227984400004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(article_id,location, location_hash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.9942810783788" y="498.650929044" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">,challenge,difficulty_level,restart)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.9942810783788" y="513.729578244" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.9942810783788" y="528.808227444" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">difficulty_level = 0  (</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="italic" font-weight="normal" text-decoration="normal" x="611.8446991691991" y="528.808227444" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">initial difficulty</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="702.2583039055272" y="528.808227444" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.9942810783788" y="543.8868766439999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">restart = false</text></g><g><g><rect fill="white" stroke="none" x="210.07175653549214" y="580.075634724" width="109.62923135667968" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="italic" font-weight="normal" text-decoration="normal" x="212.33355391549213" y="593.646419004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="250.620144491664" y="593.646419004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> challenge</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.45495647837885 599.677878684 L 66.73254245728515 599.677878684" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(54.317787949285155,599.677878684) translate(-54.317787949285155,-599.677878684)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 66.88332894928516 593.395108184 L 54.317787949285155 599.677878684 L 66.88332894928516 605.960649184 Z"/></g></g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 7.5393246000000005 634.6100826640001 L 910.4606754 634.6100826640001 M 7.5393246000000005 639.636299064 L 910.4606754 639.636299064 M 7.5393246000000005 644.662515464 L 910.4606754 644.662515464" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 387.3873734198047 622.2958524840001 L 530.6126265801953 622.2958524840001 L 530.6126265801953 656.9767456440001 L 387.3873734198047 656.9767456440001 Z" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="408.4974822998047" y="643.4059613640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">block.number </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="500.5498962402344" y="643.4059613640001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">h</text></g><g><g><rect fill="white" stroke="none" x="243.6906927245898" y="679.594719444" width="212.25876321703126" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="245.9524901045898" y="693.165503724" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">view_pow(article_id, pow_hash)</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 224.185192187832 699.196963404 L 463.04020197037886 699.196963404" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(475.45495647837885,699.196963404) translate(-475.45495647837885,-699.196963404)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 462.88941547837885 692.9141929040001 L 475.45495647837885 699.196963404 L 462.88941547837885 705.479733904 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 231.724516787832 721.8149372040001 L 705.6146118889258 721.8149372040001 L 719.1853961689258 735.3857214840001 L 719.1853961689258 997.7542175640001 L 231.724516787832 997.7542175640001 L 231.724516787832 721.8149372040001 M 705.6146118889258 721.8149372040001 L 705.6146118889258 735.3857214840001 L 719.1853961689258 735.3857214840001" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="742.9250460840002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">require( h &lt; i + 3600)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="758.0036952840002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">require(keccak(pow_hash, challenge) == 0x +'0' * difficulty_level...)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="773.0823444840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="252.83462566783197" y="788.1609936840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">if</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="261.7872471277929" y="788.1609936840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> ( h &lt; j + 2): </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="803.2396428840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_difficulty_level = difficulty_level + 1</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="818.3182920840001" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_challenge = keccak(challenge,block.number,block.coinbase) </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="833.396941284" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_restart = true</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="848.475590484" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="252.83462566783197" y="863.554239684" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">else if</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="294.38452190806635" y="863.554239684" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> (h &gt; j + 40 &amp;&amp; difficulty_level &gt;0): </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="878.632888884" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_difficulty_level = difficulty_level - 1</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="893.7115380839999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_challenge = keccak(challenge,block.number,block.coinbase)</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="908.7901872839999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_restart = true</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="923.8688364839999" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"></text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="252.83462566783197" y="938.9474856839998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> else </text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="289.5038761561132" y="938.9474856839998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">:</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="954.0261348839998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_difficulty_level = difficulty_level</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="969.1047840839998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_challenge = challenge</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="252.83462566783197" y="984.1834332839998" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">    new_restart = false</text></g><g><g><rect fill="white" stroke="none" x="597.2453773751366" y="1020.3721913640001" width="122.63951578050781" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="599.5071747551366" y="1033.9429756440002" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">emit viewer_event</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.45495647837885 1039.974435324 L 829.2605595444022 1039.974435324" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(841.6753140524022,1039.974435324) translate(-841.6753140524022,-1039.974435324)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 829.1097730524021 1033.691664824 L 841.6753140524022 1039.974435324 L 829.1097730524021 1046.257205824 Z"/></g></g><path fill="white" stroke="black" paint-order="fill stroke markers" d=" M 461.88417219837885 1062.592409124 L 841.6753140524022 1062.592409124 L 855.2460983324022 1076.163193404 L 855.2460983324022 1112.351951484 L 461.88417219837885 1112.351951484 L 461.88417219837885 1062.592409124 M 841.6753140524022 1062.592409124 L 841.6753140524022 1076.163193404 L 855.2460983324022 1076.163193404" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="bold" text-decoration="normal" x="482.9942810783788" y="1083.702518004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">event viewer_event</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="617.4195740471288" y="1083.702518004" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">(article_id,location, location_hash</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="482.9942810783788" y="1098.781167204" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">,new_challenge,new_difficulty_level,new_restart)</text></g><g><g><rect fill="white" stroke="none" x="295.00545865476556" y="1134.969925284" width="109.62923135667968" height="19.602243960000003"/></g><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="italic" font-weight="normal" text-decoration="normal" x="297.2672560347656" y="1148.540709564" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve">return</text><text fill="black" stroke="none" font-family="sans-serif" font-size="11pt" font-style="normal" font-weight="normal" text-decoration="normal" x="335.55384661093746" y="1148.540709564" text-anchor="start" dominant-baseline="alphabetic" xml:space="preserve"> challenge</text></g><g><path fill="none" stroke="black" paint-order="fill stroke markers" d=" M 475.45495647837885 1154.572169244 L 236.599946695832 1154.572169244" stroke-miterlimit="10" stroke-width="1.2565541" stroke-dasharray=""/><g transform="translate(224.185192187832,1154.572169244) translate(-224.185192187832,-1154.572169244)"><path fill="black" stroke="none" paint-order="stroke fill markers" d=" M 236.750733187832 1148.289398744 L 224.185192187832 1154.572169244 L 236.750733187832 1160.854939744 Z"/></g></g></g><g/><g/><g/><g/><g/></g></svg>